<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<title>Filters with canvas and FILTER.js</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
			body {
				font-family: Monospace;
				background-color: #555;
				margin: 0px;
				overflow: hidden;
				padding:0;
				position:relative;
				height:100%;
			}
		</style>
	</head>
	<body>
        <script type = "text/javascript"> var thresh = 100; </script>
		<script src="../build/FILTER.js"></script>
		<div id="aside" style="position:absolute;color:#fff;font-size:12px;z-index:100;width:150px;right:0">
		<input id="test" type="button" value="Apply Filters" />
		</div>
		<div id="container" style="position:relative;margin:0 auto;padding:0;cursor:pointer"></div>
        <input type="range" min="0" max="255" value="100" step="1" onchange="thresh = this.value; dotest(0);" />
        <span id="range">0</span>
        <script type="text/javascript">
            function showValue(newValue)
            {
                document.getElementById("range").innerHTML=newValue;
            }
            </script>
		<script>
		var aside=document.getElementById('aside');
		var test=document.getElementById('test');
		test.addEventListener('click',dotest,false);
		var container=document.getElementById('container');
		var im1=new FILTER.Image('che.jpg');
		var im2=new FILTER.Image('che.jpg');
		var im3=new FILTER.Image('che.jpg');
		var im4=new FILTER.Image('che.jpg');
		var im5=new FILTER.Image('che.jpg');
		var im6=new FILTER.Image('che.jpg');
		var im7=new FILTER.Image('che.jpg');

		/* function to apply a filter to an image
		   returns a new image; does not
                */
		var applyFilter = function(image, filter, params) {
		

		var greyEdgeFilter = new FILTER.GreyEdge(im1);

		container.appendChild(im1.canvasElement);
		container.appendChild(im2.canvasElement);
		container.appendChild(im3.canvasElement);
		container.appendChild(im4.canvasElement);
		container.appendChild(im5.canvasElement);
		container.appendChild(im6.canvasElement);
		container.appendChild(im7.canvasElement);
		function dotest(event)
		{
		/**
		     new FILTER.Sobel(im2).apply();
		     console.log(thresh);
		     new FILTER.GreyEdge(im3).apply(thresh);
		     new FILTER.ConvolutionMatrixFilter(im4).blur4().apply();
		     new FILTER.ConvolutionMatrixFilter(im5).edge().apply();
		     new FILTER.SobelFilter(im6).apply();
		     new FILTER.ConvolutionMatrixFilter(im7).emboss().apply();
		**/

		greyEdgeFilter.apply(thresh);

		}
		</script>
</body></html>
